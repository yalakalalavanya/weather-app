(this["webpackJsonpmy-weather-app"]=this["webpackJsonpmy-weather-app"]||[]).push([[0],{21:function(e,t,a){},24:function(e,t,a){},30:function(e,t,a){"use strict";a.r(t);var i=a(4),n=a.n(i),r=a(14),s=a.n(r),c=(a(21),a(32)),o=a(11),l=(a(22),a(7)),d=(a(24),a(3));var p=()=>{const[e,t]=Object(i.useState)(""),[a,n]=Object(i.useState)(null),[r,s]=Object(i.useState)(null),[p,b]=Object(i.useState)(null),[j,u]=Object(i.useState)("metric"),[m,h]=Object(i.useState)(null),[x,g]=Object(i.useState)(null),O="600544fe94f199722c3346359685f50a",y=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const i=t&&a?`lat=${t}&lon=${a}`:`q=${e}`;try{const e=await c.a.get(`https://api.openweathermap.org/data/2.5/weather?${i}&appid=${O}&units=${j}`);n(e.data);const t=await c.a.get(`https://api.openweathermap.org/data/2.5/forecast?${i}&appid=${O}&units=${j}`);s(t.data),b(null)}catch(r){b("Error fetching weather data. Please try again."),n(null),s(null)}},f=r?r.list.slice(0,8).map((e=>({time:e.dt_txt,temp:e.main.temp,icon:e.weather[0].icon}))):[],v=r?r.list.filter((e=>e.dt_txt.includes("15:00:00"))).map((e=>({date:e.dt_txt.split(" ")[0],temp:e.main.temp,humidity:e.main.humidity,pressure:e.main.pressure}))):[],w=(f.map((e=>e.time)),f.map((e=>e.temp)),{labels:v.map((e=>e.date)),datasets:[{label:"Temperature (\xb0C)",data:v.map((e=>e.temp)),borderColor:"rgba(153,102,255,1)",borderWidth:1,fill:!1}]}),C={labels:v.map((e=>e.date)),datasets:[{label:"Humidity (%)",data:v.map((e=>e.humidity)),backgroundColor:"rgba(75,192,192,0.2)",borderColor:"rgba(75,192,192,1)",borderWidth:1}]},S={labels:v.map((e=>e.date)),datasets:[{label:"Pressure (hPa)",data:v.map((e=>e.pressure)),backgroundColor:"rgba(153,102,255,0.2)",borderColor:"rgba(153,102,255,1)",borderWidth:1}]},F=e=>{switch(e){case"01d":return Object(d.jsx)(l.c,{size:30});case"02d":return Object(d.jsx)(l.b,{size:30});case"09d":return Object(d.jsx)(l.d,{size:30});case"11d":return Object(d.jsx)(l.f,{size:30});case"13d":return Object(d.jsx)(l.e,{size:30});default:return Object(d.jsx)(l.a,{size:30})}};return Object(d.jsxs)("div",{style:{textAlign:"center",padding:"50px",backgroundColor:"#f0f0f0"},children:[Object(d.jsx)("h1",{children:"Weather App"}),Object(d.jsxs)("form",{onSubmit:e=>{e.preventDefault(),y()},style:{marginBottom:"20px"},children:[Object(d.jsx)("input",{type:"text",placeholder:"Enter city",value:e,onChange:e=>{t(e.target.value)},style:{padding:"10px",fontSize:"16px"}}),Object(d.jsx)("button",{type:"submit",style:{marginLeft:"10px",padding:"10px 20px"},children:"Search"}),Object(d.jsx)("button",{type:"button",onClick:()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((e=>{const{latitude:t,longitude:a}=e.coords;h(t),g(a),y(t,a)}),(e=>{b("Error getting location. Please try again.")})):b("Geolocation is not supported by this browser.")},style:{marginLeft:"10px",padding:"10px 20px"},children:"Use My Location"}),Object(d.jsx)("button",{type:"button",onClick:()=>{u("metric"===j?"imperial":"metric"),y(m,x)},style:{marginLeft:"10px",padding:"10px 20px"},children:"metric"===j?"Switch to \xb0F":"Switch to \xb0C"})]}),p&&Object(d.jsx)("p",{style:{color:"red"},children:p}),a&&Object(d.jsxs)("div",{style:{marginTop:"20px",background:"#fff",padding:"20px",borderRadius:"8px",boxShadow:"0 0 10px rgba(0,0,0,0.1)"},children:[Object(d.jsx)("h2",{children:a.name}),Object(d.jsxs)("p",{children:["Temperature: ",a.main.temp,"\xb0","metric"===j?"C":"F"]}),Object(d.jsxs)("p",{children:["Weather: ",a.weather[0].description]}),F(a.weather[0].icon),Object(d.jsxs)("p",{children:["Humidity: ",a.main.humidity,"%"]}),Object(d.jsxs)("p",{children:["Wind Speed: ",a.wind.speed," m/s"]})]}),r&&Object(d.jsxs)("div",{style:{marginTop:"20px"},children:[Object(d.jsx)("h2",{children:"5-Day Forecast"}),Object(d.jsx)("div",{style:{marginBottom:"20px"},children:Object(d.jsx)(o.b,{data:w,options:{responsive:!0}})}),Object(d.jsx)("div",{style:{marginBottom:"20px"},children:Object(d.jsx)(o.a,{data:C,options:{responsive:!0}})}),Object(d.jsx)("div",{children:Object(d.jsx)(o.a,{data:S,options:{responsive:!0}})})]}),f.length>0&&Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Hourly Forecast"}),Object(d.jsx)("ul",{style:{listStyleType:"none",padding:0},children:f.map(((e,t)=>Object(d.jsxs)("li",{style:{margin:"10px 0",display:"flex",alignItems:"center",justifyContent:"center"},children:[F(e.icon)," ",e.time,": ",e.temp,"\xb0","metric"===j?"C":"F"]},t)))})]})]})};var b=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,33)).then((t=>{let{getCLS:a,getFID:i,getFCP:n,getLCP:r,getTTFB:s}=t;a(e),i(e),n(e),r(e),s(e)}))};s.a.createRoot(document.getElementById("root")).render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(p,{})})),b()}},[[30,1,2]]]);
//# sourceMappingURL=main.be94a67c.chunk.js.map